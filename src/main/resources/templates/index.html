<html xmlns:th="http://www.w3.org/1999/xhtml"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorator="layouts/main.html">
<div layout:fragment="content">

    <div class="jumbotron">
        <h1>
            Users
        </h1>
    </div>

    <div class="card mb-3 bg-secondary">
        <div class="card-body">
            <form action="/save" method="post">
                <div class="form-group">
                    <input class="form-control" type="text" placeholder="Enter username:" name="username">
                </div>
                <div class="form-group">
                    <input class="form-control" type="password" placeholder="Enter password:" name="password">
                </div>
                <div class="form-group">
                    <input class="form-control" type="date" placeholder="Enter date:" name="birthDate">
                </div>
                <div class="form-group">
                    <input class="form-control" type="text" name="iin" placeholder="Enter IIN">
                </div>

                <div class="form-group">
                    <select name="roleIds" class="form-control" multiple>
                        <option th:each="role : ${roles}" th:value="${role.id}" th:text="${role.name}"></option>
                    </select>
                </div>
                <div class="form-group">
                    <input class="btn btn-success btn-block" type="submit" value="SAVE">
                </div>
            </form>
        </div>
    </div>

    <div class="card">
        <div class="card-body">
            <table class="table">
                <thead>
                <th>
                    Username
                </th>
                <th>
                    Password
                </th>
                <th>
                    Birthdate
                </th>
                <th>
                    Roles
                </th>
                </thead>

                <tbody>
                <tr th:each="user : ${users}">
                    <td th:text="${user.getUsername()}"/>
                    <td th:text="${user.getPassword()}"/>
                    <td th:text="${user.getBirthDate()}"/>
                    <td>
                        <span th:each="role : ${user.roles}" class="badge badge-secondary m-1" th:text="${role.name}"/>
                    </td>
                </tr>
                </tbody>
            </table>
        </div>
    </div>

</div>
</html>